<!DOCTYPE html>
<html>
   <head>
      <meta charset="UTF-8">
      <title>Insert title here</title>
      <link rel="stylesheet" href="/javascript/common/bootstrap-4.6.0/css/bootstrap.min.css">
      <script src="/javascript/common/js/jquery-3.5.1.min.js"></script>
      <script src="/javascript/common/bootstrap-4.6.0/js/bootstrap.bundle.min.js" ></script>
      <script src="/javascript/common/bootstrap-4.6.0/js/bootstrap.bundle.min.js"></script>
      <script>
         function checkData() {
            console.log("checkData() 실행");
            event.preventDefault();
            
            //input 태그의 값을 얻는 방법
            var uid = $("#uid").val();
            var uemail = $("#uemail").val();
            var utel = $("#utel").val();
            var upassword = $("#upassword").val();
            console.log(uid," , ",utel,", " ,uemail," , ", upassword);
            
            //checkbox에서 체크된 것만 얻기
            var checkedSkills = $("[name=skill]:checked");
            //밥법1
            for(var i=0; i<checkedSkills.length; i++) {
               //console.log(checkedSkills[i].value);   //배열의 i번째 객체는 element이기 때문에jquery의 메소드가 아닌 속성 사용
               console.log($(checkedSkills[i]).val());   //element객체를 jquery 객체로 변환 후 val()사용
            }
            
            //방법2
            checkedSkills.each(function() {
               //console.log(this.value);      //element객체
               console.log($(this).val());      //$(...)는 jquery객체이기 때문에 jquery 메소드 사용 가능
            });
            
            //radio 얻기
            var checkedJob = $("[name=ujob]:checked");
            console.log(checkedJob.val());
            
            //date 얻기
            var selectedDate = $("#birth");      //jquery 객체
            console.log(selectedDate.val());
            
            //서버로 데이터를 전송
            var joinForm = document.querySelector("#joinForm");
            joinForm.submit();   //element객체
         }
         
         
      </script>
      
   </head>
   <body>
      <div class="card">
      <div class="card-header">
         form 태그와 유효성 검사
      </div>
         <div class="card-body">
            <form id="joinForm" onsubmit="checkData()" novalidate method="post">
               <div class="form-group">
                <label for="uid">User ID</label>
                <input type="text" class="form-control" id="uid" name="uid"
                   minlength="3" maxlength="8"
                   required
                   >
              </div>
               <div class="form-group">
                      <label for="utel">전화번호</label>
                      <input type="text" class="form-control" id="utel" name="utel"
                      required pattern="010-\d{3,4}-\d{4}"> 
                  </div>

              <div class="form-group">
                <label for="uemail">Email address</label>
                <input type="email" class="form-control" id="uemail" name="uemail">
                
              </div>
              <div class="form-group">
                <label for="upassword">Password</label>
                <input type="password" class="form-control" id="upassword" name="upassword">
              </div>
              <div>
                <input type="checkbox" name="skill" value="java">java
                <input type="checkbox" name="skill" value="javascript">javaScript
                <input type="checkbox" name="skill" value="react">React
              </div>
              <div>
                <input type="radio" name="ujob" value="developer">개발자
                <input type="radio" name="ujob" value="designer">디자이너
                <input type="radio" name="ujob" value="pm">프로젝트관리자
              </div>
              <div>
                 생년월일 : <input id="birth" name="birth" type="date" value="2040-03-12"/>
              </div>
              <div class="form-group form-check">
                <input type="checkbox" id="upublic" name="upublic" value="true">
                <label for="upublic">Check me out</label>
              </div>
              <!-- <div style="display:flex; align-items: center;"> -->
              <div class="d-flex align-items-center">
                 <button type="submit" class="btn btn-primary">Submit</button>
                 <input type="image" src="/javascript/common/images/join.png" width="50"/>
                 <input type="submit" value="가입"/>
            </div>
         </form>
      </div>
     </div>
   </body>
</html>