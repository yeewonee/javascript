<!DOCTYPE html>
<html>
   <head>
      <meta charset="UTF-8">
      <link rel="stylesheet" href="/javascript/common/bootstrap-4.6.0/css/bootstrap.min.css" >
      <script src="/javascript/common/js/jquery-3.5.1.min.js"></script>
      <script src="/javascript/common/bootstrap-4.6.0/js/bootstrap.bundle.min.js" ></script>
      <script src="/javascript/common/bootstrap-4.6.0/js/bootstrap.min.js"></script>
      <script>
           
      //비동기 통신이기 때문에 위에서 아래 방향으로 실행      
         const handleClick1 = () => {
               $.ajax({url: "exam04_ajax1_data1.json", method:"post"})
                .done((data) => {
                   const htmlFragment = `
                      <div>
                       <table class="table table-bordered">
                          <tr class="bg-primary">
                             <th>bno</th>
                             <th>btitle</th>
                             <th>bcontent</th>
                             <th>bwriter</th>
                             <th>bdate</th>
                             <th>bhitcount</th>
                          </tr>
                             <th>${data.bno}</th>
                             <th>${data.btitle}</th>
                             <th>${data.bcontent}</th>
                             <th>${data.bwriter}</th>
                             <th>${data.bdate}</th>
                             <th>${data.bhitcount}</th>      
                       </table>
                    </div>
                   `;
                   $("#content").html(htmlFragment);
                })
                .fail((error) => {
                	console.log("에러발생");
                   console.log(error);
                })
                .always(() => {
                   console.log("마무리 실행");
                });
               
                };
             
             const handleClick2 = () => {
                   $.ajax({url: "exam04_ajax1_data2.html"})
                    .done((data) => {
                       $("#content").html(data);
                    })
                    .fail((error) => {
                       console.log(error);
                    })
                    .always(() => {
                       console.log("마무리 실행");
                    });
                   
                    };
                    
      </script>
      <style type="text/css">
      </style>
   </head>
   
   <body>
      <div class="card">
        <div class="card-header">
           jQuery를 이용한 Ajax
        </div>
        <div class="card-body">
          <a class="btn btn-success btn-sm" href="javascript:handleClick1()">
          AJAX 통신
          </a>
          <a class="btn btn-success btn-sm" href="javascript:handleClick2()">
          AJAX 통신
          </a>
          <hr/>
          <div id="content">
          </div>
        </div>
      </div>
   </body>
</html>